<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>BearZPY Blog</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://bearzpy.github.io/"/>
  <updated>2017-03-07T15:50:50.608Z</updated>
  <id>https://bearzpy.github.io/</id>
  
  <author>
    <name>BearZPY</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>使用git clean清理工程文件</title>
    <link href="https://bearzpy.github.io/2017/03/07/%E4%BD%BF%E7%94%A8git%20clean%E6%B8%85%E7%90%86%E5%B7%A5%E7%A8%8B%E6%96%87%E4%BB%B6/"/>
    <id>https://bearzpy.github.io/2017/03/07/使用git clean清理工程文件/</id>
    <published>2017-03-07T11:03:00.000Z</published>
    <updated>2017-03-07T15:50:50.608Z</updated>
    
    <content type="html"><![CDATA[<p>清理工程里无用的文件，方便复制移动及备份。</p>
<hr>
<h2 id="git-clean"><a href="#git-clean" class="headerlink" title="git clean"></a>git clean</h2><p>工程代码在编译的时候往往会生产很多的文件，在项目需要移动复制或者备份的时候这些文件是无用的，所以大部分IDE都提供了clean工程的功能， 但是有时候IDE提供的功能并不能满足我们的需求，所以往往需要使用其他的清理工具来完成我们的要求（例如编写 Windows 下的clean bat执行文件）。<br>这篇文章主要介绍使用git clean来给工程瘦身的方法。<br>例如Android studio（2.2.3） 编译时在build文件夹下生成了几十MB的mockable-android-XX.jar。然而AS提供的clean并没有清除这些文件， 导致clean后的工程还是占用了很大的体积。</p>
<h4 id="使用前提"><a href="#使用前提" class="headerlink" title="使用前提"></a>使用前提</h4><p>项目需要使用git来管理，且重要的文件已经用git记录追踪。</p>
<h4 id="命令介绍"><a href="#命令介绍" class="headerlink" title="命令介绍"></a>命令介绍</h4><p>git clean 用于清理git根目录下所有没有被track的文件和文件夹<br>使用 git clean -h 获取命令的帮助手册。<br><img src="https://github.com/BearZPY/blog-img-repository/raw/master/git/clean/git_clean_help.png" alt="help document"></p>
<p>常用参数介绍：  </p>
<ol>
<li>-n  打印出需要清理的文件和文件夹（不会真的删除）</li>
<li>-f  强制删除（并不是删除文件的意思）</li>
<li>-d 删除整个文件夹（包括文件，-n 不会显示文件夹里面的文件）</li>
<li>-x 对.gitignore文件中忽略的文件及文件夹进行清理（不加上-d参数的话只能清理文件）</li>
</ol>
<h4 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h4><p>使用git clean清除时最好先加上-n参数查看清理的对象，如果清理文件夹的话，需要明确文件夹里是否有重要的文件数据，避免误删。<br>-f 是强制删除，可以在-xd删除失败的时候加上。<br>不希望删除的文件加入git管理（add，commit）就可以了。</p>
<h4 id="使用示例"><a href="#使用示例" class="headerlink" title="使用示例"></a>使用示例</h4><p>列举了清理Android Studio构建的APP项目TodoList所使用的指令输入和打印输出。</p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> clean -nd
</code></pre>
<p><img src="https://github.com/BearZPY/blog-img-repository/raw/master/git/clean/git_clean_nd.png" alt="help document"></p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> clean -nx
</code></pre>
<p><img src="https://github.com/BearZPY/blog-img-repository/raw/master/git/clean/git_clean_nx.png" alt="help document"></p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> clean -nxd
</code></pre>
<p><img src="https://github.com/BearZPY/blog-img-repository/raw/master/git/clean/git_clean_nxd.png" alt="help document"></p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> clean -xd
</code></pre>
<p><img src="https://github.com/BearZPY/blog-img-repository/raw/master/git/clean/git_clean_xd.png" alt="help document"></p>
<pre class=" language-bash"><code class="language-bash">$ <span class="token function">git</span> clean -fxd
</code></pre>
<p><img src="https://github.com/BearZPY/blog-img-repository/raw/master/git/clean/git_clean_fxd.png" alt="help document"></p>
<hr>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;清理工程里无用的文件，方便复制移动及备份。&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&quot;git-clean&quot;&gt;&lt;a href=&quot;#git-clean&quot; class=&quot;headerlink&quot; title=&quot;git clean&quot;&gt;&lt;/a&gt;git clean&lt;/h2&gt;&lt;p&gt;工程代码在编译的
    
    </summary>
    
      <category term="git" scheme="https://bearzpy.github.io/categories/git/"/>
    
    
      <category term="git" scheme="https://bearzpy.github.io/tags/git/"/>
    
      <category term="clean project" scheme="https://bearzpy.github.io/tags/clean-project/"/>
    
      <category term="android studio" scheme="https://bearzpy.github.io/tags/android-studio/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://bearzpy.github.io/2017/03/06/hello-world/"/>
    <id>https://bearzpy.github.io/2017/03/06/hello-world/</id>
    <published>2017-03-06T07:51:50.108Z</published>
    <updated>2017-03-07T07:21:07.830Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre class=" language-bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span>
</code></pre>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre class=" language-bash"><code class="language-bash">$ hexo server
</code></pre>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre class=" language-bash"><code class="language-bash">$ hexo generate
</code></pre>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre class=" language-bash"><code class="language-bash">$ hexo deploy
</code></pre>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
    
    </summary>
    
      <category term="hello world" scheme="https://bearzpy.github.io/categories/hello-world/"/>
    
    
      <category term="hexo" scheme="https://bearzpy.github.io/tags/hexo/"/>
    
      <category term="hello" scheme="https://bearzpy.github.io/tags/hello/"/>
    
  </entry>
  
</feed>
